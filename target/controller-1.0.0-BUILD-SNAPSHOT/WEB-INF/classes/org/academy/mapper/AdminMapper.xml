<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.academy.mapper.AdminMapper">
	<select id="getList" resultType="org.academy.domain.AdminVO">
	<![CDATA[
 SELECT 
           b."BRANCH_NAME" , l."ADMIN_NAME" , A."ADMIN_ID" , A."NAME"
        from 
           "ADMIN" A , "LEV" l ,"BRANCH" b
         where 
            A."ADMIN_CODE" =l."ADMIN_CODE" 
            and A."BRANCHCODE" = b."BRANCHCODE"



	]]>
	</select>
	
	<!-- <insert id="insert">
		    INSERT INTO ADMIN
         ("ADMIN_ID", BRANCHCODE,ADMIN_CODE,PWD, NAME, BIRTH,ADDRESS,GENDER, PHONE,STATUS,ENTER,UPDATEDATE)
      
      VALUES 
         (#{ADMIN_ID},#{BRANCHCODE},#{ADMIN_CODE},#{PWD},#{NAME},#{BIRTH},#{ADDRESS},#{GENDER},#{PHONE},1,SYSDATE, SYSDATE )   

	</insert>
	
	
	<insert id="insertSelectKey">
		
		<selectKey keyProperty="notice_code" order="BEFORE"
			resultType="String">
			select seq_notice.nextval from dual	
		</selectKey> 
		
			insert into notice (notice_code, admin_id, title, content)
			values (#{notice_code}, #{admin_id}, #{title}, #{content})
	</insert> -->
	
	<select id="read" resultType="org.academy.domain.Admin_detailVO">
		      SELECT  "STUDENT".*,"CLASS"."CLASS_NAME" 
            FROM "STUDENT" INNER JOIN "CLASS" 
            ON "STUDENT"."BRANCHCODE" = "CLASS"."BRANCHCODE"
	</select>
	
	<delete id="delete" >
	delete from ADMIN where Admin_id = #{ADMIN_ID}
	</delete>
	
	<!-- <update id="update">
		update notice
		set title = #{title},
		content = #{content},
		admin_id = #{admin_id},
		updateDate = sysdate
		where notice_code = #{ADMIN_ID}
	</update> -->
	

   	
   	
</mapper>